{% extends "layouts/dashboard_layout.html" %}

{% block dashboard_content %}
<!-- Header -->
<div class="content-header">
    <h1 class="fade-in">My Courses</h1>
    <p class="fade-in" style="animation-delay: 0.2s;">All your enrolled courses in one place.</p>
</div>

<!-- Horizontal Navigation -->
<nav class="dashboard-nav">
    <a href="{{ url_for('main.student_dashboard') }}" class="nav-tab">Dashboard</a>
    <a href="{{ url_for('main.my_courses') }}" class="nav-tab active">My Courses</a>
    <a href="{{ url_for('main.assignments') }}" class="nav-tab">Assignments</a>
    <a href="{{ url_for('main.grades') }}" class="nav-tab">Grades</a>
    <a href="{{ url_for('main.certificates') }}" class="nav-tab">Certificates</a>
    <a href="{{ url_for('main.placeholder') }}" class="nav-tab">Announcements</a>
</nav>

<!-- My Courses Grid -->
<div class="my-courses-grid">
    {% for data in enrollment_data %}
    <div class="course-card">
        <a href="{{ url_for('main.course_detail', course_id=data.enrollment.course.id) }}">
            <img src="{{ url_for('static', filename='images/course_placeholder.jpg') }}" alt="{{ data.enrollment.course.title }}" class="course-card-img">
        </a>
        <div class="course-card-body">
            <h3 class="course-card-title"><a href="{{ url_for('main.course_detail', course_id=data.enrollment.course.id) }}">{{ data.enrollment.course.title }}</a></h3>
            <p class="course-card-instructor">{{ data.enrollment.course.instructor.name }}</p>
            <div class="course-card-progress">
                <div class="progress-bar-wrapper">
                    <div class="progress-bar-gradient" style="width: {{ data.progress.percentage | default(0) }}%;"></div>
                </div>
                <span class="progress-percentage">{{ "%.0f"|format(data.progress.percentage | default(0)) }}%</span>
            </div>
        </div>
    </div>
    {% else %}
    <p>You are not enrolled in any courses yet. <a href="{{ url_for('main.courses') }}">Browse courses</a>.</p>
    {% endfor %}
</div>
{% endblock %}
