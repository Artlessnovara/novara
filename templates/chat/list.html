{% extends "chat_layout.html" %}

{% block chat_content %}
<div class="chat-list-page">
    <div class="chat-list-whatsapp">
        {% if chats %}
            {% for chat in chats %}
            <a href="{{ url_for('main.chat_room', room_id=chat.id) }}" class="chat-link-whatsapp">
                <div class="chat-item-whatsapp">
                    <div class="chat-avatar-whatsapp">
                        <img src="{{ chat.avatar_url }}" alt="{{ chat.name }}">
                    </div>
                    <div class="chat-details-whatsapp">
                        <div class="chat-header-whatsapp">
                            <h3 class="chat-name-whatsapp">{{ chat.name }}</h3>
                            <span class="chat-timestamp-whatsapp">{{ chat.timestamp }}</span>
                        </div>
                        <div class="chat-preview-whatsapp">
                            <p class="chat-last-message-whatsapp">{{ chat.last_message }}</p>
                            {% if chat.unread_count > 0 %}
                            <span class="chat-unread-whatsapp">{{ chat.unread_count }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </a>
            {% endfor %}
        {% else %}
            <p class="empty-chat-list" style="text-align: center; padding: 2rem;">No chats found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
