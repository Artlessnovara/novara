<div class="top-creators-container">

    <h3><i class="fas fa-star"></i> Weekly Spotlight</h3>
    <p>A few creators we're loving this week.</p>
    <div class="spotlight-grid">
        {% for creator in works.get('spotlight', []) %}
            <a href="{{ url_for('feed.profile', user_id=creator.id) }}" class="creator-card-spotlight">
                <img src="{{ url_for('static', filename='profile_pics/' + creator.profile_pic) }}" alt="{{ creator.name }}" class="creator-avatar-large">
                <h4>{{ creator.name }}</h4>
                <p>{{ creator.bio|truncate(80) }}</p>
                <button class="btn btn-primary">View Profile</button>
            </a>
        {% else %}
            <p>Spotlights are being selected. Check back soon!</p>
        {% endfor %}
    </div>

    <h3 style="margin-top: 3rem;"><i class="fas fa-chart-line"></i> Leaderboards</h3>
    <div class="leaderboards">
        <div class="leaderboard-card">
            <h4>Most Liked Creators</h4>
            <ol class="leaderboard-list">
                {% for creator in works.get('most_liked', []) %}
                    <li>
                        <a href="{{ url_for('feed.profile', user_id=creator.id) }}">
                            <img src="{{ url_for('static', filename='profile_pics/' + creator.profile_pic) }}" alt="{{ creator.name }}" class="creator-avatar-small">
                            <span>{{ creator.name }}</span>
                            <span class="score">{{ creator.total_likes }} Likes</span>
                        </a>
                    </li>
                {% else %}
                    <li>No data yet.</li>
                {% endfor %}
            </ol>
        </div>
        <div class="leaderboard-card">
            <h4>Most Active Creators</h4>
            <ol class="leaderboard-list">
                 {% for creator in works.get('most_active', []) %}
                    <li>
                        <a href="{{ url_for('feed.profile', user_id=creator.id) }}">
                            <img src="{{ url_for('static', filename='profile_pics/' + creator.profile_pic) }}" alt="{{ creator.name }}" class="creator-avatar-small">
                            <span>{{ creator.name }}</span>
                            <span class="score">{{ creator.work_count }} Works</span>
                        </a>
                    </li>
                {% else %}
                    <li>No data yet.</li>
                {% endfor %}
            </ol>
        </div>
    </div>

</div>

<style>
.spotlight-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
}
.creator-card-spotlight {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 2rem;
    background: var(--card-bg-light);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
    text-decoration: none;
    color: var(--primary-text-light);
}
.creator-avatar-large { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin-bottom: 1rem; border: 3px solid var(--primary-color); }
.creator-card-spotlight h4 { margin: 0 0 0.5rem 0; }
.creator-card-spotlight p { font-size: 0.9rem; color: var(--secondary-text-light); flex-grow: 1; }
.creator-card-spotlight .btn { margin-top: 1rem; }

.leaderboards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-top: 1rem;
}
@media (min-width: 768px) {
    .leaderboards { grid-template-columns: 1fr 1fr; }
}
.leaderboard-card {
    background: var(--card-bg-light);
    border-radius: var(--border-radius);
    padding: 1.5rem;
}
.leaderboard-list { list-style: none; padding: 0; margin: 0; }
.leaderboard-list li a {
    display: flex;
    align-items: center;
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--border-color-light);
    text-decoration: none;
    color: var(--primary-text-light);
}
.leaderboard-list li:last-child a { border-bottom: none; }
.creator-avatar-small { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 1rem; }
.leaderboard-list .score { margin-left: auto; color: var(--secondary-text-light); font-weight: 600; }
</style>
