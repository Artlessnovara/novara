GOOGLE_APPLICATION_CREDENTIALS environment variable not set. Push notifications will be disabled.
Werkzeug appears to be used in a production deployment. Consider switching to a production web server instead.
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[33mPress CTRL+C to quit[0m
 * Restarting with stat
GOOGLE_APPLICATION_CREDENTIALS environment variable not set. Push notifications will be disabled.
Werkzeug appears to be used in a production deployment. Consider switching to a production web server instead.
 * Debugger is active!
 * Debugger PIN: 148-452-288
127.0.0.1 - - [19/Sep/2025 15:44:38] "GET /register HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:38] "GET /static/css/auth.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:38] "GET /static/js/auth.js HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:38] "GET /static/css/forms.css HTTP/1.1" 200 -
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask_sqlalchemy/model.py:22: SAWarning: relationship 'Reel.comments' will copy column reel.id to column generic_comment.target_id, which conflicts with relationship(s): 'Post.comments' (copies post.id to generic_comment.target_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="comments"' to the 'Reel.comments' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
  return cls.query_class(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask_sqlalchemy/model.py:22: SAWarning: relationship 'Project.comments' will copy column project.id to column generic_comment.target_id, which conflicts with relationship(s): 'Post.comments' (copies post.id to generic_comment.target_id), 'Reel.comments' (copies reel.id to generic_comment.target_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="comments,comments"' to the 'Project.comments' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
  return cls.query_class(
/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask_sqlalchemy/model.py:22: SAWarning: relationship 'CreativeWork.comments' will copy column creative_work.id to column generic_comment.target_id, which conflicts with relationship(s): 'Post.comments' (copies post.id to generic_comment.target_id), 'Project.comments' (copies project.id to generic_comment.target_id), 'Reel.comments' (copies reel.id to generic_comment.target_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="comments,comments,comments"' to the 'CreativeWork.comments' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
  return cls.query_class(
127.0.0.1 - - [19/Sep/2025 15:44:40] "[32mPOST /register HTTP/1.1[0m" 302 -
127.0.0.1 - - [19/Sep/2025 15:44:40] "GET /login HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:40] "[36mGET /static/css/auth.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [19/Sep/2025 15:44:40] "[36mGET /static/css/forms.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [19/Sep/2025 15:44:40] "[36mGET /static/js/auth.js HTTP/1.1[0m" 304 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "[32mPOST /login HTTP/1.1[0m" 302 -
/app/app.py:69: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  return User.query.get(int(user_id))
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /student/dashboard HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/css/dark_theme.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "[36mGET /static/css/forms.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/css/dashboard_reborn.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/css/ice_sky_theme.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/profile_pics/default.jpg HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/css/nav.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/js/socket_handler.js HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/js/nav.js HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /static/js/dashboard_reborn.js HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "[35m[1mGET /discover HTTP/1.1[0m" 500 -
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask_socketio/__init__.py", line 42, in __call__
    return super().__call__(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/engineio/middleware.py", line 74, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask_login/utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/feed_world_routes.py", line 15, in discover
    return render_template('feed/discover.html', posts=posts, stories_by_user=active_stories_users)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/app/templates/feed/discover.html", line 1, in top-level template code
    {% extends "layouts/dashboard_layout.html" %}
  File "/app/templates/layouts/dashboard_layout.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "/app/templates/base.html", line 117, in top-level template code
    {% block content %}{% endblock %}
  File "/app/templates/layouts/dashboard_layout.html", line 100, in block 'content'
    {% block dashboard_content %}{% endblock %}
  File "/app/templates/feed/discover.html", line 38, in block 'dashboard_content'
    <div class="story" data-user-id="{{ user_stories.user.id }}">
  File "/home/jules/.pyenv/versions/3.12.11/lib/python3.12/site-packages/jinja2/environment.py", line 490, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'models.User object' has no attribute 'user'
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /discover?__debugger__=yes&cmd=resource&f=style.css HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /discover?__debugger__=yes&cmd=resource&f=debugger.js HTTP/1.1" 200 -
127.0.0.1 - - [19/Sep/2025 15:44:41] "GET /discover?__debugger__=yes&cmd=resource&f=console.png&s=iZjmfMDP9cFlhuElLGDq HTTP/1.1" 200 -
